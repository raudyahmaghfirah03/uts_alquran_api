import{_ as u,o as r,c as i,a,t as h,e as c,F as l,f as d}from"./index.7d551166.js";const _={name:"RandomView",data(){return{isLoading:!1,verse:null,quran:null,chapter:null,translation:null,tafsir:null,audio:null}},methods:{async getRandomAyat(){const t=Math.floor(Math.random()*100);this.fetchQuran("verses/random?language=id&words=false&translations=id&audio=3&fields="+t).then(n=>{const s=n.verse;this.verse=s,this.audio=this.getAudioPath(s.audio.url);const o=s.verse_key;this.getQuran(o);const e=o.split(":")[0];this.getChapter(e),this.getTranslate(o)})},async getQuran(t){this.fetchQuran("quran/verses/uthmani?verse_key="+t).then(n=>{this.quran=n.verses[0]})},getAudioPath(t){return"https://verses.quran.com/"+t},async getChapter(t){this.fetchQuran("chapters/"+t+"?language=id").then(n=>{this.chapter=n.chapter})},async getTranslate(t){this.fetchQuran("quran/translations/33?verse_key="+t).then(n=>{this.translation=n.translations[0]})},async fetchQuran(t){this.isLoading=!0;const n="https://api.quran.com/api/v4/"+t;return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then(s=>{if(!s.ok){const o=new Error(s.statusText);throw o.json=s.json(),o}return s.json()}).catch(s=>{alert(s.toString())}).finally(()=>{this.isLoading=!1})}},mounted(){this.getRandomAyat()}},p=a("section",{class:"hero is-small"},[a("div",{class:"hero-body"},[a("p",{class:"title"}," Random Ayat "),a("p",{class:"subtitle"}," Random Ayat from https://api.quran.com/ ")])],-1),m={class:"content"},f={key:0,class:"has-text-right"},g={key:1,class:"has-text-right"},y={controls:""},v=["src"],k=d(" Your browser does not support the audio element. "),x={key:2,class:"has-text-right quran"},q={key:3},Q={key:0,class:"has-text-centered"},b=a("i",{class:"fa-solid fa-spinner fa-pulse"},null,-1),w=[b];function A(t,n,s,o,e,R){return r(),i(l,null,[p,a("section",m,[a("div",null,[e.chapter?(r(),i("h2",f,h(e.chapter.name_arabic)+" "+h(e.verse.verse_number),1)):c("",!0),e.audio?(r(),i("p",g,[a("audio",y,[a("source",{src:e.audio,type:"audio/mpeg"},null,8,v),k])])):c("",!0),e.quran?(r(),i("h3",x,h(e.quran.text_uthmani),1)):c("",!0),e.translation?(r(),i("p",q,h(e.translation.text),1)):c("",!0)]),e.isLoading?(r(),i("div",Q,w)):c("",!0)])],64)}var V=u(_,[["render",A]]);export{V as default};
